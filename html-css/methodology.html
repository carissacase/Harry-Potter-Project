<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Methodology</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" type="text/css" href="index.css"/>  
    </head>
    <body>
        <h1>Harry Potter and the Goblet of Fire Project</h1>
        <div id="navbar">
            <div class="navbar">
                <a href="/Harry-Potter-Project/index.xhtml">Home</a>
                <div class="dropdown">
                    <button class="dropbtn">About</button>
                    <div class="dropdown-content">
                        <a href="/Harry-Potter-Project/html-css/team.html">Harry Potter Project Staff</a>
                        <a href="/Harry-Potter-Project/html-css/goals.html">Legacy</a>
                        <a href="/Harry-Potter-Project/html-css/methodology.html">Methodology</a>                       
                    </div>
                </div>           
                <a href="/Harry-Potter-Project/html-css/HPscript.html">Movie Script</a>
                <div class="dropdown">
                    <button class="dropbtn">Content</button>
                    <div class="dropdown-content">
                        <a href="/Harry-Potter-Project/html-css/Character-list-output.html">Book Chapter Analysis</a>
                        <a href="/Harry-Potter-Project/html-css/Script-Character-list-output.html">Movie Scene Analysis</a>
                        <a href="/Harry-Potter-Project/html-css/discussion.html">Character Speech Frequency Analysis</a>
                    </div>                                 
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Reference</button>
                    <div class="dropdown-content">
                        <a href="/Harry-Potter-Project/html-css/discussion.html">Movie Script Source</a>
                        
                    </div>                                 
                </div>
            </div>
        </div>
            <h2>Methodology</h2>
            <p>Our team tagged the characters, chapters, scenes, creatures, and spells of both the "Harry Potter and the Goblet of Fire" book and movie script.  
            We then put it into xslts to filter the html pages.  We sought to compare the amount of characters, creatures, and spells in each chapter in the book
            and each scene in the movie. </p><hr/>
        <h3>XSLT FOR NOVEL CHARACTER/CREATURE/SPELL ANALYSIS:</h3><br/>
        <img src="/Harry-Potter-Project/images/xslt-part-1.png" alt="XSLT Screenshot" style="width:1000px;"/>
        <img src="/Harry-Potter-Project/images/xslt-part-2.png" alt="XSLT Bottom Screenshot" style="width:1000px;"/><hr/>
        <!--<code>
            <?xml version="1.0" encoding="UTF-8"?>
            <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:xs="http://www.w3.org/2001/XMLSchema"
                xmlns:math="http://www.w3.org/2005/xpath-functions/math" exclude-result-prefixes="xs math"
                xmlns="http://www.w3.org/1999/xhtml" version="3.0">
                <xsl:output method="xhtml" encoding="utf-8" doctype-system="about:legacy-compat"
                    omit-xml-declaration="yes"/>
                <xsl:template match="/">
                    <html><head><meta name="viewport" content="width=device-width, initial-scale=1.0" />
                        <link rel="stylesheet" type="text/css" href="index.css"/> </head><body>
                            <h1>Harry Potter Project</h1>
                            <div id="navbar">
                                <div class="navbar">
                                    <a href="/Harry-Potter-Project/index.xhtml">Home</a>
                                    <div class="dropdown">
                                        <button class="dropbtn">About</button>
                                        <div class="dropdown-content">
                                            <a href="/Harry-Potter-Project/html-css/team.html">Harry Potter Project Staff</a>
                                            <a href="/Harry-Potter-Project/html-css/goals.html">Legacy</a>
                                            <a href="/Harry-Potter-Project/html-css/methodology.html">Methodology</a>                       
                                        </div>
                                    </div>           
                                    <a href="/Harry-Potter-Project/html-css/HPscript.html">Movie Script</a>
                                    <div class="dropdown">
                                        <button class="dropbtn">Content</button>
                                        <div class="dropdown-content">
                                            <a href="/Harry-Potter-Project/html-css/Character-list-output.html">Character/Creature References</a>
                                            <a href="/Harry-Potter-Project/html-css/NOVEL-ANALYSIS.html">Novel Analysis</a>
                                            <a href="/Harry-Potter-Project/html-css/discussion.html">Discussion</a>
                                        </div>                                 
                                    </div>
                                    <div class="dropdown">
                                        <button class="dropbtn">Reference</button>
                                        <div class="dropdown-content">
                                            <a href="/Harry-Potter-Project/html-css/discussion.html">Movie Script Source</a>
                                            <a href="/Harry-Potter-Project/html-css/discussion.html">Discussion</a>
                                        </div>                                 
                                    </div>
                                </div>
                            </div>
                            <p>This project was conducted in order to compare the Harry Potter: Goblet of Fire novel and movie to see how the plot differentiates between the two. To analyze the novel, we used Regex and XML markup to find every single time a character was mentioned and tag that mention so we could then compile a list of which characters were mentioned in which chapter.</p>
                            <p>One thing that we would change with this method is rather than just tagging when each character was mentioned, we would tag when the character was participating in dialogue so we could then compare with how many times the character participated in dialogue in the movie script. This would give a more comprehensive comparison of the plot of the novel and the movie.</p> 
                            <p>Unfortunately since the book is under copyright we are not able to upload it to the website. However, it is assumed that the viewers of this website are Harry Potter fans, and we have included information such as which chapters include which characters, creatures and spells so anyone at home who owns a copy of the book would easily be able to refer to that.</p>
                            <xsl:apply-templates select="//story"/>
                             more text of webpage here 
                        </body></html>
                </xsl:template>
                
                <xsl:template match="story">
                    <ol><xsl:apply-templates select="chapter"/></ol>
                </xsl:template>
                
                <xsl:template match="chapter">
                    
                    <li><u><xsl:apply-templates select="@chapTitle"/></u><br/>
                        <b><xsl:text>Page: </xsl:text></b><xsl:apply-templates select=".//page[1]/@n"/><br/>
                        <xsl:if test="count(.//@scene) &gt; 0"><b><xsl:text>Movie scene: </xsl:text></b><a href="../../Harry-Potter-Project/html-css/HPscript.html#{@scene}"><xsl:apply-templates select=".//@scene"/></a><br/></xsl:if>
                        
                        <b><xsl:text>Characters included: </xsl:text></b><xsl:apply-templates select="string-join(distinct-values(.//character/@charName/translate(., '_', ' ')), '; ')"/><br/>
                        <xsl:if test="count(.//spell) &gt; 0"><b><xsl:text>Spells included: </xsl:text></b><xsl:apply-templates select="string-join(distinct-values(.//spell), '; ')"/><br/></xsl:if>
                        <xsl:if test="count(.//creature) &gt; 0"><b><xsl:text>Creatures included: </xsl:text></b><xsl:apply-templates select="string-join(distinct-values(.//creature/@name/translate(., '_', ' ')), '; ')"/><br/></xsl:if>
                    </li><br/>
                </xsl:template>
            </xsl:stylesheet></code>-->
        <ul>
            <li>The first template rule matched on the story element, which made it so that any other text outside of that element was not outputted. This was included in order to exclude the table of contents from this rule, as all we needed to match on was the text of the novel.</li>
            <li>In order to make a numbered list of the chapters, the the template rule matched on the attribute value included in every chapter element that inlcuded the name of the chapter.</li>
            <li>The link included outputs the scene number from the movie script that correlates with the chapter number of the novel. In order for this to work the corresponding scene had to be marked up in the original novel xml document. This also had to be associated in the schema so it would work when some chapter elements had the scene attribute and others did not. It then takes the viewer to that scene in the movie script page. </li>
            <li>The XSL:IF TEST rule was used to test that if there was a chapter that didn't have more than zero scenes, creatures, or spells in it, then it would not output the text included in the template rule. </li>
            <li>In order to output a semicolon separated list of characters, creatures, and spells, distinct-values was used to make sure that there were no repetitions of character/creature/spell names. String-join was then used to put those together in a list.  '; ') was used to make this list separated by semicolons.  </li>
            <li>For some of the attribute values extracted to make a list, the translate took was used to convert the underscores in the attribute values to spaces to make the list easier to read and more visually appealing.</li>
            
        </ul><hr/>
        <h3>BOOK SCHEMA</h3>
        <code>datatypes xsd = "http://www.w3.org/2001/XMLSchema-datatypes"
            
            start = novel
            novel = element novel {bibl, page, contents, story}
            
            bibl = element bibl {text}
            character = element character {charName, text}
            charName = attribute charName {text}
            
            page = element page {n}
            n = attribute n {text}
            
            contents = element contents {(page | text)+}
            
            story = element story {chapter+ | text}
            
            chapter = element chapter {n, chapTitle, scene*, (page | character | creature | spell | text)+}
            chapTitle = attribute chapTitle {text}
            scene = attribute scene {text}
            
            creature = element creature {name, text}
            name = attribute name {"Dragon" | "Nagini" | "Hippogriff" | "Veela" | "Leprechaun" | "Blast-Ended_Skrewts" | "Grindylow" | "Unicorn" | "Phoenix" | "Merperson" | "Niffler" | "Sphinx" }
            
            spell = element spell {type, text}
            type = attribute type {"charm" | "transportation" | "dark_charm" | "curse" | "transfiguration" | "hex" | "conjuration" | "jinx" | "spell" }</code><br/>
        
        
        
        
        <!--<img src="/Harry-Potter-Project/images/xslt-part-1.png" alt="XSLT Screenshot" style="width:800px;height:600px;"/>
        <img src="/Harry-Potter-Project/images/xslt-part-2.png" alt="XSLT Bottom Screenshot" style="width:800px;height:600px;"/>
        <img src="/Harry-Potter-Project/images/book-schema.png" alt="Schema Screenshot" style="width:800px;height:600px;"/><br/>-->
        
        
        
              </body>
</html>
